@using Microsoft.Extensions.Logging
@using System.Text;
@using BedBrigade.Client.Services
@using BedBrigade.Common

@inject ILogger<Error> Logger

<CascadingValue Value="this">
    @ChildContent
</CascadingValue>

@code {   
    [Parameter] public RenderFragment? ChildContent { get; set; }

    public async Task ProcessError(Exception ex)
    {
        //Log to file
        Logger.LogError("Error:ProcessError - Type: {0} Message: {1}", ex.GetType(), ex.Message);

        //Email the error
        //TODO:  Implement
        //string body = $"Error: processError - Type {ex.GetType()}, {ex.Message}";
        //await _svcMessageService.SendEmailAsync("National.Admin@bedbrigade.org","Error.Notice@bedbrigade.org","**** Error ****", body);
    }
}